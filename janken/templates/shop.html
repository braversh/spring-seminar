<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>じゃんけんアプリ</title>
</head>
<body>
    <h2>ショップ</h2>

    <p>現在のポイント: {{ points }}</p>

    {% if message %}
        <p>{{ message }}</p>
    {% endif %}

    <form action="/shop" method="post">
        <label for="item">購入する商品を選択:</label>
        <select name="item" id="item" onchange="updatePrice()">
            <option value="bronze_medal" data-price="10">銅メダル (5ポイント)</option>
            <option value="silver_medal" data-price="100">銀メダル (10ポイント)</option>
            <option value="gold_medal" data-price="1000">金メダル (1000ポイント)</option>
        </select>
        <input type="hidden" name="price" id="price" value="5">
        <button type="submit">購入</button>
    </form>

    <br>
    <a href="/">ホームへ戻る</a>

    <script>
        function updatePrice() {
            let select = document.getElementById("item");
            let price = select.options[select.selectedIndex].getAttribute("data-price");
            document.getElementById("price").value = price;
        }
    </script>
</body>
</html>
